(self.AMP=self.AMP||[]).push({n:"amp-facebook",v:"1490899213109",f:(function(AMP){function k(a,c){function b(){}b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a;for(var d in c)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(c,d);f&&Object.defineProperty(a,d,f)}else a[d]=c[d]}var v="";
function w(){var a=void 0,c=a||self,b;if(c.AMP_MODE)b=c.AMP_MODE;else{b=c;if(b.context&&b.context.mode)b=b.context.mode;else{var d=x(b.location.originalHash||b.location.hash),f=x(b.location.search);v||(v=b.AMP_CONFIG&&b.AMP_CONFIG.v?b.AMP_CONFIG.v:"011490899213109");b={localDev:!1,development:!("1"!=d.development&&!b.AMP_DEV_MODE),filter:d.filter,minified:!0,lite:void 0!=f.amp_lite,test:!1,log:d.log,version:"1490899213109",rtvVersion:v}}b=c.AMP_MODE=b}return b}
function x(a){var c=Object.create(null);if(!a)return c;if(0==a.indexOf("?")||0==a.indexOf("#"))a=a.substr(1);for(var b=a.split("&"),d=0;d<b.length;d++){var f=b[d],e=f.indexOf("="),g,h;-1!=e?(g=decodeURIComponent(f.substring(0,e)).trim(),h=decodeURIComponent(f.substring(e+1)).trim()):(g=decodeURIComponent(f).trim(),h="");g&&(c[g]=h)}return c};Date.now();self.log=self.log||{user:null,dev:null};var y=self.log;function z(){if(y.user)return y.user;throw Error("failed to call initLogConstructor");}function C(){if(y.dev)return y.dev;throw Error("failed to call initLogConstructor");};function D(a,c){var b=a;if(b.nodeType){var d=(b.ownerDocument||b).defaultView,f=d=d.__AMP_TOP||d,e=d.services;e||(e=d.services={});d=e;(e=d.ampdoc)||(e=d.ampdoc={obj:null,promise:null,resolve:null,build:null});e.obj||(e.obj=e.build?e.build():(void 0)(f),e.resolve&&e.resolve(e.obj));b=e.obj.getAmpDoc(b)}var g=b.isSingleDoc()?b.win:b;return g&&g.services&&g.services[c]&&g.services[c].obj};function E(a,c){return c.toUpperCase()};var H=self.AMP_CONFIG||{},I=H.thirdPartyUrl||"https://3p.ampproject.net",J=H.thirdPartyFrameHost||"ampproject.net",K=H.cdnUrl||"https://cdn.ampproject.org";var L,M;
function N(a){var c;L||(L=self.document.createElement("a"),M=self.UrlCache||(self.UrlCache=Object.create(null)));var b=M[a];if(b)return b;L.href=a;L.protocol||(L.href=L.href);var d={href:L.href,protocol:L.protocol,host:L.host,hostname:L.hostname,port:"0"==L.port?"":L.port,pathname:L.pathname,search:L.search,hash:L.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=L.origin&&"null"!=
L.origin?L.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;var f=d;return c?f:M[a]=f}function O(a){"string"==typeof a&&(a=N(a));var c;(c="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,c=a.length-10,c=0<=c&&a.indexOf(".localhost",c)==c);return c};function aa(a){for(var c=a.nodeName,b=0,d=0,f=a.previousElementSibling;f&&25>d&&100>b;)f.nodeName==c&&d++,b++,f=f.previousElementSibling;return 25>d&&100>b?"."+d:""};var P;function ba(a){a:{var c;b:{try{c=a.document.cookie;break b}catch(g){}c=void 0}if(a=c)for(a=a.split(";"),c=0;c<a.length;c++){var b=a[c].trim(),d=b.indexOf("=");if(-1!=d&&"AMP_EXP"==decodeURIComponent(b.substring(0,d).trim())){a=decodeURIComponent(b.substring(d+1).trim());break a}}a=null}var f=a,e=f?f.split(/\s*,\s*/g):[];a=Object.create(null);for(c=0;c<e.length;c++)0!=e[c].length&&("-"==e[c][0]?a[e[c].substr(1)]=!1:a[e[c]]=!0);return a};var Q,R="Webkit webkit Moz moz ms O o".split(" ");function ca(a){var c,b=a.style;Q||(Q=Object.create(null));var d=Q.border;if(!d){d="border";if(void 0===b.border){var f="B"+"border".slice(1);a:{for(var e=0;e<R.length;e++){var g=R[e]+f;if(void 0!==b[g]){f=g;break a}}f=""}void 0!==b[f]&&(d=f)}Q.border=d}(b=d)&&(a.style[b]=c?"none"+c:"none")};function S(a){a=parseFloat(a);return"number"===typeof a&&isFinite(a)?a:void 0};function T(a,c){try{return JSON.parse(a)}catch(b){c&&c(b)}};var U={};
function da(a,c){z().assert("facebook","Attribute type required for <amp-ad>: %s",c);for(var b=0,d=a;d&&d!=d.parent;d=d.parent)b++;for(var b=String(b)+"-"+V(a),f=d={},e=0;e<c.attributes.length;e++){var g=c.attributes[e];0==g.name.indexOf("data-")&&(f[g.name.substr(5).replace(/-([a-z])/g,E)]=g.value)}if(e=c.getAttribute("json")){e=T(e);if(void 0===e)throw z().createError("Error parsing JSON in json attribute in element %s",c);for(var h in e)f[h]=e[h]}h=d;d=Date.now();f=c.getAttribute("width");e=c.getAttribute("height");
h=h?h:{};h.width=S(f);h.height=S(e);var q=a.location.href;"about:srcdoc"==q&&(q=a.parent.location.href);for(var r=D(c,"documentInfo").get(),t=D(c,"viewer"),f=t.getUnconfirmedReferrerUrl(),e=h,g=r.sourceUrl,A=r.canonicalUrl,r=r.pageViewId,q={href:q},m=c.tagName,F={localDev:!1,development:w().development,filter:w().filter,minified:!0,lite:w().lite,test:!1,log:w().log,version:w().version,rtvVersion:w().rtvVersion},u=!(!a.AMP_CONFIG||!a.AMP_CONFIG.canary),t=!t.isVisible(),ea=c.getIntersectionChangeEntry(),
n=c,l=[],p=0;n&&1==n.nodeType&&25>p;){var B="";n.id&&(B="/"+n.id);var fa=n.nodeName.toLowerCase();l.push(""+fa+B+aa(n));p++;n=n.parentElement}n=l.join();l=n.length;p=5381;for(B=0;B<l;B++)p=33*p^n.charCodeAt(B);n=String(p>>>0);if(!P){P=Object.create(null);if(a.AMP_CONFIG)for(var G in a.AMP_CONFIG)l=a.AMP_CONFIG[G],"number"===typeof l&&0<=l&&1>=l&&(P[G]=Math.random()<l);if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(G=a.AMP_CONFIG["allow-doc-opt-in"],
l=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]')))for(l=l.getAttribute("content").split(","),p=0;p<l.length;p++)-1!=G.indexOf(l[p])&&(P[l[p]]=!0);Object.assign(P,ba(a))}a=P;e._context={ampcontextVersion:"1490899213109",ampcontextFilepath:K+"/1490899213109/ampcontext-v0.js",sourceUrl:g,referrer:f,canonicalUrl:A,pageViewId:r,location:q,startTime:d,tagName:m,mode:F,canary:u,hidden:t,initialIntersection:ea,domFingerprint:n,experimentToggles:a};h._context.sentinel=
b;if(c=c.getAttribute("src"))h.src=c;d=h;d.type="facebook";Object.assign(d._context,void 0);return d}
function ga(a,c){var b=da(a,c),d=a.document.createElement("iframe");U[b.type]||(U[b.type]=0);U[b.type]+=1;a=W(a);var f=N(a).hostname,e=JSON.stringify({host:f,type:b.type,count:U[b.type],attributes:b});d.src=a;d.ampLocation=N(a);d.name=e;d.width=b.width;d.height=b.height;d.setAttribute("scrolling","no");ca(d);d.onload=function(){this.readyState="complete"};d.setAttribute("data-amp-3p-sentinel",b._context.sentinel);return d}
function W(a){var c,b=a.bootstrapBaseUrl;if(b)a=b;else{var d;d=c;var f=a.document.querySelector('meta[name="amp-3p-iframe-src"]');if(f){var e=f.getAttribute("content"),g;g=void 0===g?"source":g;z().assert(null!=e,"%s %s must be available",f,g);z().assert(O(e)||/^(\/\/)/.test(e),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',f,g,e);z().assert(-1==e.indexOf("?"),"3p iframe url must not include query string %s in element %s.",
e,f);g=N(e);z().assert("localhost"==g.hostname&&!d||g.origin!=N(a.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/master/spec/amp-iframe-origin-policy.md for details.",e,g.origin,f);d=e+"?1490899213109"}else d=null;d||(d="https://d-"+V(a)+("."+J+"/1490899213109/")+"frame.html");a=a.bootstrapBaseUrl=d}return a}
function V(a){var c;if(a.crypto&&a.crypto.getRandomValues){var b=new Uint32Array(2);a.crypto.getRandomValues(b);c=String(b[0])+b[1]}else c=String(a.Math.random()).substr(2)+"0";return c}function ha(a){if(!X(a))return null;var c=a.indexOf("{");try{return JSON.parse(a.substr(c))}catch(b){return C().error("MESSAGING","Failed to parse message: "+a,b),null}}function X(a){return"string"==typeof a&&0==a.indexOf("amp-")&&-1!=a.indexOf("{")};function Y(a,c,b){var d=a.listeningFors;!d&&b&&(d=a.listeningFors=Object.create(null));a=d||null;if(!a)return a;var f=a[c];!f&&b&&(f=a[c]=[]);return f||null}function ia(a,c){var b=!0,d=N(c.src).origin,f=b?c.getAttribute("data-amp-3p-sentinel"):"amp";a=Y(a,f,!0);for(var e,f=0;f<a.length;f++){var g=a[f];if(g.frame===c){e=g;break}}e||(e={frame:c,origin:d,events:Object.create(null)},a.push(e));return e.events}
function ja(a){for(var c={sentinel:"unlisten"},b=a.length-1;0<=b;b--){var d=a[b];if(!d.frame.contentWindow){a.splice(b,1);var f=d.events,e;for(e in f)f[e].splice(0,Infinity).forEach(function(a){a(c)})}}}
function ka(a){if(!a.listeningFors){var c=function(c){if(c.data){var d=la(c.data);if(d&&d.sentinel){var b;b=d.sentinel;var e=c.origin,g=c.source,h=Y(a,b);if(h){for(var q,r=0;r<h.length;r++){var t=h[r],A=t.frame.contentWindow;if(A)if("amp"===b){if(t.origin===e&&A==g){q=t;break}}else{var m;if(!(m=g==A))b:{for(m=g;m&&m!=m.parent;m=m.parent)if(m==A){m=!0;break b}m=!1}if(m){q=t;break}}else setTimeout(ja,0,h)}b=q?q.events:null}else b=h;var F=b;if(F){var u=F[d.type];if(u)for(u=u.slice(),b=0;b<u.length;b++)(0,u[b])(d,
c.source,c.origin)}}}};a.addEventListener("message",c)}}function ma(a,c){function b(b,e,f){if(d||e==a.contentWindow)"unlisten"==b.sentinel?h():c(b,e,f)}var d,f="embed-size",e=a.ownerDocument.defaultView;ka(e);var e=ia(e,a),g=e[f]||(e[f]=[]),h;g.push(b);h=function(){if(b){var a=g.indexOf(b);-1<a&&g.splice(a,1);c=g=b=null}}}
function la(a){"string"==typeof a&&(a="{"==a.charAt(0)?T(a,function(a){C().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",a)})||null:X(a)?ha(a):null);return a};function Z(a){AMP.BaseElement.call(this,a);this.a=null}k(Z,AMP.BaseElement);Z.prototype.preconnectCallback=function(a){this.preconnect.url("https://facebook.com",a);this.preconnect.preload("https://connect.facebook.net/en_US/sdk.js","script");var c=this.preconnect,b=W(this.win);c.preload(b,"document");c.preload(I+"/1490899213109/f.js","script")};Z.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};
Z.prototype.layoutCallback=function(){var a=this,c=ga(this.win,this.element);this.applyFillContent(c);ma(c,function(b){a.changeHeight(b.height)});this.element.appendChild(c);this.a=c;return this.loadPromise(c)};Z.prototype.unlayoutOnPause=function(){return!0};Z.prototype.unlayoutCallback=function(){if(this.a){var a=this.a;a.parentElement&&a.parentElement.removeChild(a);this.a=null}return!0};AMP.registerElement("amp-facebook",Z);
})});
//# sourceMappingURL=amp-facebook-0.1.js.map

